<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Compress and resize images to exactly 20KB online for free. Ideal for exams, job portals, and government form uploads." />
  <meta name="keywords" content="compress image to 20kb, resize image to 20kb, image to 20kb, 20kb jpg compressor, passport photo 20kb, reduce photo to 20kb, image compressor for forms" />
  <meta name="robots" content="index, follow" />

  <title>Resize Image to 20KB - Free Fixed Size Compressor | ReducePic</title>

  <!-- Open Graph Meta -->
  <meta property="og:title" content="Resize Image to 20KB Online | ReducePic" />
  <meta property="og:description" content="Reduce image size to exactly 20KB without losing quality. Great for government forms and job applications." />
  <meta property="og:image" content="https://reducepic.in/image-20kb-tool.jpg" />
  <meta property="og:url" content="https://reducepic.in/resize-to-20kb.html" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card -->
  <meta name="twitter:title" content="Compress Image to 20KB - ReducePic" />
  <meta name="twitter:description" content="Free online image compressor to reduce image size to exactly 20KB. Fast and secure." />
  <meta name="twitter:image" content="https://reducepic.in/image-20kb-tool.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <link rel="canonical" href="https://reducepic.in/resize-to-20kb.html" />
  <link rel="icon" href="/assets/favicon.ico" type="image/x-icon" />
  
  <style>
    /* Basic styling for the page */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      color: #333;
    }
    
    .sticky-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      color: #2c3e50;
      cursor: pointer;
    }
    
    .nav-links {
      display: flex;
      gap: 1.5rem;
    }
    
    .nav-links a {
      text-decoration: none;
      color: #2c3e50;
    }
    
    .hamburger-menu {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    main {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    
    .compress-image {
      text-align: center;
      margin-bottom: 3rem;
    }
    
    .upload-container {
      margin: 2rem 0;
    }
    
    .upload-box {
      border: 2px dashed #bdc3c7;
      border-radius: 8px;
      padding: 3rem 2rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .upload-box:hover {
      border-color: #3498db;
      background-color: #f8f9fa;
    }
    
    .upload-box i {
      font-size: 3rem;
      color: #3498db;
      margin-bottom: 1rem;
    }
    
    .upload-box h3 {
      margin: 0;
      color: #2c3e50;
    }
    
    .upload-box p span {
      color: #3498db;
      font-weight: bold;
    }
    
    .supported-formats {
      margin-top: 0.5rem;
      color: #7f8c8d;
      font-size: 0.9rem;
    }
    
    .preview-container {
      margin: 2rem auto;
      max-width: 500px;
      text-align: center;
    }
    
    .preview-container img {
      max-width: 100%;
      max-height: 300px;
      border: 1px solid #eee;
      border-radius: 4px;
    }
    
    .compression-options {
      margin: 2rem 0;
      padding: 1.5rem;
      background-color: #f8f9fa;
      border-radius: 8px;
    }
    
    select, button {
      padding: 0.5rem 1rem;
      margin: 0.5rem;
      border-radius: 4px;
      border: 1px solid #bdc3c7;
    }
    
    button {
      background-color: #3498db;
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: #2980b9;
    }
    
    button:disabled {
      background-color: #95a5a6;
      cursor: not-allowed;
    }
    
    #loadingIndicator {
      display: none;
      margin: 1rem 0;
    }
    
    .error-message {
      color: #e74c3c;
      margin: 1rem 0;
      display: none;
    }
    
    .features {
      background-color: #f8f9fa;
      padding: 2rem;
      border-radius: 8px;
    }
    
    .features ul {
      text-align: left;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .sticky-footer {
      text-align: center;
      padding: 1.5rem;
      background-color: #2c3e50;
      color: white;
    }
    
    .footer-links {
      margin-bottom: 1rem;
    }
    
    .footer-links a {
      color: white;
      margin: 0 1rem;
      text-decoration: none;
    }
    
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .hamburger-menu {
        display: block;
      }
      
      .upload-box {
        padding: 2rem 1rem;
      }
    }
  </style>
</head>

<body>
  <header class="sticky-header">
    <div class="logo" onclick="window.location.href='./'">ReducePic</div>
    <button class="hamburger-menu" aria-label="Toggle navigation menu" onclick="toggleMenu()">☰</button>
    <nav class="nav-links" aria-label="Main navigation">
      <a href="./blog">Blog</a>
      <a href="./about">About</a>
      <a href="./contact">Contact</a>
      <a href="./privacy">Privacy</a>
      <a href="./terms">Terms & Conditions</a>
    </nav>
  </header>

  <main>
    <section class="compress-image">
      <h1>Resize Image to 20KB</h1>
      <div class="upload-container">
        <div class="upload-box" id="uploadBox">
          <i class="fas fa-cloud-upload-alt"></i>
          <h3>Drop your images here</h3>
          <p>or <span>browse files</span></p>
          <input type="file" id="imageInput" accept="image/*" style="display: none;">
        </div>
        <div class="supported-formats">
          <p>Supports: JPG, PNG, WebP | Max 50MB</p>
        </div>
      </div>
      <div id="errorMessage" class="error-message"></div>

      <figure id="originalPreview" class="preview-container" style="display: none;">
        <img id="originalImage" alt="Original image preview" loading="lazy" />
        <figcaption id="originalDetails"></figcaption>
      </figure>

      <div class="compression-options">
        <p>Target File Size: <strong>20KB</strong></p>
        <label for="formatSelect">Output Format:</label>
        <select id="formatSelect">
          <option value="jpg">JPG</option>
          <option value="jpeg">JPEG</option>
          <option value="png">PNG</option>
          <option value="webp">WebP</option>
        </select>
        <button id="compressBtn" disabled>Compress to 20KB</button>
      </div>

      <div id="loadingIndicator" style="display: none;">
        <p>Processing image...</p>
      </div>

      <figure id="compressedPreview" class="preview-container" style="display: none;">
        <img id="compressedImage" alt="Compressed image preview" loading="lazy" />
        <figcaption id="compressedDetails"></figcaption>
        <button id="downloadBtn" disabled>Download Image</button>
      </figure>
    </section>

    <section class="features">
      <h2>Why Compress to 20KB?</h2>
      <ul>
        <li><i class="fas fa-check-circle"></i> Perfect for exams, job portals & government forms</li>
        <li><i class="fas fa-check-circle"></i> Maintains clarity while matching file size</li>
        <li><i class="fas fa-check-circle"></i> No watermark or login needed</li>
        <li><i class="fas fa-check-circle"></i> Supports multiple image formats</li>
        <li><i class="fas fa-check-circle"></i> Works on desktop and mobile devices</li>
      </ul>
    </section>
  </main>

  <footer class="sticky-footer">
    <div class="footer-links">
      <a href="./about">About</a>
      <a href="./contact">Contact</a>
      <a href="./privacy">Privacy</a>
      <a href="./terms">Terms & Conditions</a>
    </div>
    <p>©<span id="currentYear"></span> ReducePic</p>
  </footer>

  <script>
    // Mobile menu toggle
    function toggleMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
    }

    document.addEventListener('DOMContentLoaded', function() {
      // DOM Elements
      const uploadBox = document.getElementById('uploadBox');
      const imageInput = document.getElementById('imageInput');
      const originalPreview = document.getElementById('originalPreview');
      const originalImage = document.getElementById('originalImage');
      const originalDetails = document.getElementById('originalDetails');
      const compressBtn = document.getElementById('compressBtn');
      const formatSelect = document.getElementById('formatSelect');
      const loadingIndicator = document.getElementById('loadingIndicator');
      const compressedPreview = document.getElementById('compressedPreview');
      const compressedImage = document.getElementById('compressedImage');
      const compressedDetails = document.getElementById('compressedDetails');
      const downloadBtn = document.getElementById('downloadBtn');
      const errorMessage = document.getElementById('errorMessage');

      // Variables
      let originalFile = null;
      let compressedBlob = null;

      // Event Listeners
      uploadBox.addEventListener('click', () => imageInput.click());
      uploadBox.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadBox.style.borderColor = '#3498db';
        uploadBox.style.backgroundColor = '#f8f9fa';
      });
      uploadBox.addEventListener('dragleave', () => {
        uploadBox.style.borderColor = '#bdc3c7';
        uploadBox.style.backgroundColor = 'transparent';
      });
      uploadBox.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadBox.style.borderColor = '#bdc3c7';
        uploadBox.style.backgroundColor = 'transparent';
        
        if (e.dataTransfer.files.length) {
          handleImageUpload(e.dataTransfer.files[0]);
        }
      });
      
      imageInput.addEventListener('change', (e) => {
        if (e.target.files.length) {
          handleImageUpload(e.target.files[0]);
        }
      });
      
      compressBtn.addEventListener('click', compressImage);
      downloadBtn.addEventListener('click', downloadImage);

      // Set current year in footer
      document.getElementById("currentYear").textContent = new Date().getFullYear();

      // Functions
      function handleImageUpload(file) {
        // Reset previous state
        errorMessage.style.display = 'none';
        originalPreview.style.display = 'none';
        compressedPreview.style.display = 'none';
        compressBtn.disabled = true;
        
        // Validate file
        if (!file.type.match('image.*')) {
          showError('Please upload an image file (JPEG, PNG, etc.)');
          return;
        }
        
        if (file.size > 50 * 1024 * 1024) { // 50MB limit
          showError('Image size should be less than 50MB');
          return;
        }
        
        originalFile = file;
        
        // Display original image
        const reader = new FileReader();
        reader.onload = function(e) {
          originalImage.src = e.target.result;
          originalDetails.textContent = `Original: ${formatFileSize(file.size)} • ${file.type}`;
          originalPreview.style.display = 'block';
          compressBtn.disabled = false;
        };
        reader.readAsDataURL(file);
      }
      
      function compressImage() {
        if (!originalFile) return;
        
        // Show loading indicator
        loadingIndicator.style.display = 'block';
        compressBtn.disabled = true;
        
        // Get selected format
        const format = formatSelect.value;
        
        // Use setTimeout to allow UI to update before compression starts
        setTimeout(() => {
          const targetSize = 20 * 1024; // 20KB in bytes
          compressToTargetSize(originalFile, targetSize, format)
            .then(blob => {
              compressedBlob = blob;
              const compressedUrl = URL.createObjectURL(blob);
              
              compressedImage.src = compressedUrl;
              compressedDetails.textContent = `Compressed: ${formatFileSize(blob.size)} • ${format}`;
              compressedPreview.style.display = 'block';
              downloadBtn.disabled = false;
              
              loadingIndicator.style.display = 'none';
            })
            .catch(error => {
              showError('Error compressing image: ' + error.message);
              loadingIndicator.style.display = 'none';
              compressBtn.disabled = false;
            });
        }, 100);
      }
      
      function compressToTargetSize(file, targetSize, format) {
        return new Promise((resolve, reject) => {
          const img = new Image();
          const reader = new FileReader();
          
          reader.onload = function(e) {
            img.src = e.target.result;
          };
          
          img.onload = function() {
            // Create canvas
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // Initial dimensions
            let width = img.width;
            let height = img.height;
            
            // Quality settings
            let quality = 0.9;
            let step = 0.05;
            let blob = null;
            
            // Binary search approach to find optimal quality/size
            function attemptCompression() {
              canvas.width = width;
              canvas.height = height;
              ctx.drawImage(img, 0, 0, width, height);
              
              let mimeType = 'image/jpeg';
              if (format === 'png') mimeType = 'image/png';
              if (format === 'webp') mimeType = 'image/webp';
              
              canvas.toBlob(
                resultBlob => {
                  if (!resultBlob) {
                    reject(new Error('Failed to compress image'));
                    return;
                  }
                  
                  if (Math.abs(resultBlob.size - targetSize) < 500 || quality <= 0.1) {
                    // Close enough or minimum quality reached
                    resolve(resultBlob);
                  } else if (resultBlob.size > targetSize) {
                    // Need to reduce quality/size
                    if (quality > 0.1) {
                      quality -= step;
                      attemptCompression();
                    } else {
                      // If quality is already low, reduce dimensions
                      width = Math.floor(width * 0.95);
                      height = Math.floor(height * 0.95);
                      quality = 0.7; // Reset quality
                      attemptCompression();
                    }
                  } else {
                    // Can try higher quality
                    quality += step;
                    step /= 2;
                    attemptCompression();
                  }
                },
                mimeType,
                quality
              );
            }
            
            attemptCompression();
          };
          
          img.onerror = function() {
            reject(new Error('Failed to load image'));
          };
          
          reader.readAsDataURL(file);
        });
      }
      
      function downloadImage() {
        if (!compressedBlob) return;
        
        const a = document.createElement('a');
        a.href = URL.createObjectURL(compressedBlob);
        a.download = `compressed-20kb.${formatSelect.value}`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
      }
      
      function showError(message) {
        errorMessage.textContent = message;
        errorMessage.style.display = 'block';
      }
      
      function formatFileSize(bytes) {
        if (bytes < 1024) return bytes + ' bytes';
        else if (bytes < 1048576) return (bytes / 1024).toFixed(2) + ' KB';
        else return (bytes / 1048576).toFixed(2) + ' MB';
      }
    });
  </script>
</body>
</html>
